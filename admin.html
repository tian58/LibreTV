<!-- admin/index.html -->
<form id="userForm">
  <input type="email" id="email" placeholder="用户邮箱">
  <input type="password" id="password" placeholder="新密码">
  <input type="number" id="days" placeholder="有效期（天）">
  <button onclick="saveUser()">保存</button>
</form>

<script>
  // 调用Firebase Admin SDK（需部署到Vercel）
  async function saveUser() {
    const email = document.getElementById("email").value
    const password = document.getElementById("password").value
    const days = document.getElementById("days").value

    // 创建用户并设置过期时间
    const user = await admin.auth().createUser({
      email,
      password
    })
    
    await admin.firestore().collection("users").doc(user.uid).set({
      expiresAt: Date.now() + days*86400000,
      device: await getFingerprint() // 实现设备指纹生成
    })
  }
</script>
